var I=Object.defineProperty,S=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var u=(i,t,e)=>t in i?I(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,o=(i,t)=>{for(var e in t||(t={}))O.call(t,e)&&u(i,e,t[e]);if(d)for(var e of d(t))C.call(t,e)&&u(i,e,t[e]);return i},b=(i,t)=>S(i,y(t));import{r as s,A as j,e as g,R as a,m as p,G as H,H as T}from"./antd.6184fff2.js";import{a as f}from"./dayjs.min.39f03de2.js";import{r as v}from"./request.afec6a83.js";import{a as M}from"./index.e4fa613d.js";import{u as F}from"./useListPage.fe4e257c.js";import{b as h,a as k}from"./tableHelp.374439ae.js";import{u as R}from"./useSearchColumn.80e4a35f.js";import{I as n}from"./index.7faa062c.js";import{S as V}from"./operateBtns.7f848e8e.js";import"./styled-components.browser.esm.a560c53e.js";var z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M676 565c-50.8 0-92 41.2-92 92s41.2 92 92 92 92-41.2 92-92-41.2-92-92-92zm0 126c-18.8 0-34-15.2-34-34s15.2-34 34-34 34 15.2 34 34-15.2 34-34 34zm204-523H668c0-30.9-25.1-56-56-56h-80c-30.9 0-56 25.1-56 56H264c-17.7 0-32 14.3-32 32v200h-88c-17.7 0-32 14.3-32 32v448c0 17.7 14.3 32 32 32h336c17.7 0 32-14.3 32-32v-16h368c17.7 0 32-14.3 32-32V200c0-17.7-14.3-32-32-32zm-412 64h72v-56h64v56h72v48H468v-48zm-20 616H176V616h272v232zm0-296H176v-88h272v88zm392 240H512V432c0-17.7-14.3-32-32-32H304V240h100v104h336V240h100v552zM704 408v96c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-96c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zM592 512h48c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8z"}}]},name:"reconciliation",theme:"outlined"},Y=z,x=function(t,e){return s.exports.createElement(j,g(g({},t),{},{ref:e,icon:Y}))};x.displayName="ReconciliationOutlined";var A=s.exports.forwardRef(x),N={get:i=>v.get(`permit/${i}`),getList:(i,t)=>v.get("permit/list",{params:i,cancelToken:t})};const w={0:"WaitForCheck",1:"Checking",2:"Waiting",3:"WaitForOut",4:"Outing",6:"Done",7:"Abnormal",8:"Expired"},D=()=>({selectedKeys:i,setSelectedKeys:t,confirm:e})=>a.createElement(p,{options:[{label:"WaitForCheck",value:"0"},{label:"Checking",value:"1"},{label:"Waiting",value:"2"},{label:"WaitForOut",value:"3"},{label:"Outing",value:"4"},{label:"Done",value:"6"},{label:"Abnormal",value:"7"},{label:"Expired",value:"8"}],style:{width:"100%"},value:i,onSelect:r=>{t([r]),e()},placeholder:"Click to select"}),W=i=>({selectedKeys:t,setSelectedKeys:e,confirm:r})=>a.createElement(p,{options:i,style:{width:"100%"},value:t,onSelect:m=>{e([m]),r()},placeholder:"Click to select"}),X=()=>{const{dataState:i,handleTableChange:t,cachedParams:e}=F(N),[r,m]=s.exports.useState([]);s.exports.useEffect(()=>{M.getOptions().then(l=>m(l))},[]),console.log(e.sort);const E=[{title:a.createElement(n,{id:"table.operation"}),dataIndex:"sort",key:"operation",render:(l,c)=>a.createElement("div",{style:{display:"flex"}},!c.vehicleId&&(c.status===0||c.status===1)?a.createElement(V,{to:{pathname:"spare",state:{permitId:c._id}}},a.createElement(A,null)):null)},o({title:a.createElement(n,{id:"vehicle.licenceNumber"}),dataIndex:"licenceNumber",key:"~licenceNumber",filteredValue:e["~licenceNumber"]},R("licenceNumber")),o({title:a.createElement(n,{id:"admin.name"}),dataIndex:["admin","name"],key:"adminId",filteredValue:e.adminId},h(W(r))),{title:a.createElement(n,{id:"booking.carType"}),dataIndex:["booking","carType"]},{title:a.createElement(n,{id:"booking.purpose"}),dataIndex:["booking","purpose"]},o({title:a.createElement(n,{id:"booking.timeFrom"}),dataIndex:["booking","timeFrom"],key:"#timeFrom",render:l=>f(l).format("YYYY-MM-DD HH:mm"),filteredValue:e["#timeFrom"]},k()),o({title:a.createElement(n,{id:"booking.timeTo"}),dataIndex:["booking","timeTo"],key:"#timeTo",render:l=>f(l).format("YYYY-MM-DD HH:mm"),filteredValue:e["#timeTo"]},k()),o({title:a.createElement(n,{id:"vehicle.status"}),dataIndex:["status"],render:l=>w[l],filteredValue:e.status},h(D())),{title:a.createElement(n,{id:"booking.passenger"}),dataIndex:["booking","passenger"]},{title:a.createElement(n,{id:"booking.beforSOC"}),dataIndex:["booking","beforSOC"]},{title:a.createElement(n,{id:"booking.afterSOC"}),dataIndex:["booking","afterSOC"]},{title:a.createElement(n,{id:"booking.beforTotalMileage"}),dataIndex:["booking","beforTotalMileage"]},{title:a.createElement(n,{id:"booking.afterTotalMileage"}),dataIndex:["booking","afterTotalMileage"]},{title:a.createElement(n,{id:"booking.remark"}),dataIndex:["booking","remark"]}];return a.createElement(H,{title:a.createElement(n,{id:"table.list",values:{menu:"Booking"}})},a.createElement(T,b(o({},i),{className:"gx-table-responsive",columns:E,rowKey:"_id",onChange:t})))};export{X as default};
//# sourceMappingURL=index.ae793f44.js.map
