{"version":3,"file":"index.9d7bc824.js","sources":["../../src/routes/driver/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Table, Card } from 'antd';\r\nimport dayjs from 'dayjs';\r\n\r\nimport api from '../../api/driver';\r\nimport useListPage from '../../hook/useListPage';\r\nimport useSearchColumn from '../../hook/useSearchColumn';\r\nimport IntlMessages from \"../../util/IntlMessages\";\r\nimport { AddBtn, DangerBtn, ModifyBtn } from '../../components/styled/operateBtns';\r\n\r\nconst DriverType = {\r\n  1: 'Private Car',//考2可加簽1\r\n  2: 'Light Goods Vehicle',//考18可加簽2\r\n  18: 'Medium Goods Vehicle',//考19可加簽2/18\r\n  19: 'Heavy Goods Vehicle',\r\n  21: 'Special Purpose Vehicle',\r\n};\r\n\r\nconst Driver = () => {\r\n  const { dataState, handleTableChange, deleOne, cachedParams } = useListPage(api);\r\n\r\n  /**@type {import('antd/lib/table').ColumnsType} */\r\n  const columns = [\r\n    {\r\n      title: <IntlMessages id='table.operation' />,\r\n      dataIndex: 'sort',\r\n      key: 'operation',\r\n      render: (_, data) => {\r\n        return (\r\n          <div style={{ display: 'flex' }}>\r\n            <ModifyBtn carry={{ editData: data }} />\r\n            <DangerBtn onConfirm={deleOne(data._id)} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.nameEN' />,\r\n      dataIndex: 'nameEN',\r\n      key: '~nameEN',\r\n      filteredValue: cachedParams['~nameEN'],\r\n      ...useSearchColumn('nameEN'),\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.nameCH' />,\r\n      dataIndex: 'nameCH',\r\n      key: '~nameCH',\r\n      filteredValue: cachedParams['~nameCH'],\r\n      ...useSearchColumn('nameCH'),\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.email' />,\r\n      dataIndex: 'email',\r\n      key: '~email',\r\n      filteredValue: cachedParams['~email'],\r\n      ...useSearchColumn('email'),\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.staffID' />,\r\n      dataIndex: 'staffID',\r\n      key: '~staffID',\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.authDate' />,\r\n      dataIndex: 'authDate',\r\n      key: '~authDate',\r\n      render: t => dayjs(t).format('YYYY-MM-DD HH:mm'),\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.type' />,\r\n      dataIndex: 'type',\r\n      key: '~type',\r\n      render: t => DriverType[t]\r\n    },\r\n    {\r\n      title: <IntlMessages id='driver.class' />,\r\n      dataIndex: 'class',\r\n      key: '~class',\r\n      render: t => t ? \"True\" : \"False\"\r\n    },\r\n  ];\r\n\r\n  return <Card title={<IntlMessages id='table.list' values={{ menu: 'Driver' }} />}>\r\n    <AddBtn />\r\n    <Table\r\n      {...dataState}\r\n      className=\"gx-table-responsive\"\r\n      columns={columns}\r\n      rowKey='_id'\r\n      onChange={handleTableChange}\r\n    />\r\n  </Card>\r\n}\r\n\r\nexport default Driver;"],"names":["DriverType","Driver","dataState","handleTableChange","deleOne","cachedParams","useListPage","api","columns","title","dataIndex","key","render","_","data","display","editData","_id","filteredValue","useSearchColumn","t","dayjs","format","menu"],"mappings":"40BAUA,KAAMA,GAAa,GACd,gBACA,yBACC,0BACA,yBACA,2BAGAC,EAAS,IAAM,MACb,CAAEC,YAAWC,oBAAmBC,UAASC,gBAAiBC,EAAYC,GAGtEC,EAAU,CACd,CACEC,sBAAQ,EAAD,CAAc,GAAG,oBACxBC,UAAW,OACXC,IAAK,YACLC,OAAQ,CAACC,EAAGC,oBAEP,MAAD,CAAK,MAAO,CAAEC,QAAS,yBACpB,EAAD,CAAW,MAAO,CAAEC,SAAUF,qBAC7B,EAAD,CAAW,UAAWV,EAAQU,EAAKG,SAK3C,GACER,sBAAQ,EAAD,CAAc,GAAG,kBACxBC,UAAW,SACXC,IAAK,UACLO,cAAeb,EAAa,YACzBc,EAAgB,WAErB,GACEV,sBAAQ,EAAD,CAAc,GAAG,kBACxBC,UAAW,SACXC,IAAK,UACLO,cAAeb,EAAa,YACzBc,EAAgB,WAErB,GACEV,sBAAQ,EAAD,CAAc,GAAG,iBACxBC,UAAW,QACXC,IAAK,SACLO,cAAeb,EAAa,WACzBc,EAAgB,UAErB,CACEV,sBAAQ,EAAD,CAAc,GAAG,mBACxBC,UAAW,UACXC,IAAK,YAEP,CACEF,sBAAQ,EAAD,CAAc,GAAG,oBACxBC,UAAW,WACXC,IAAK,YACLC,OAAQQ,GAAKC,EAAMD,GAAGE,OAAO,qBAE/B,CACEb,sBAAQ,EAAD,CAAc,GAAG,gBACxBC,UAAW,OACXC,IAAK,QACLC,OAAQQ,GAAKpB,EAAWoB,IAE1B,CACEX,sBAAQ,EAAD,CAAc,GAAG,iBACxBC,UAAW,QACXC,IAAK,SACLC,OAAQQ,GAAKA,EAAI,OAAS,iCAItB,EAAD,CAAM,sBAAQ,EAAD,CAAc,GAAG,aAAa,OAAQ,CAAEG,KAAM,6BAC/D,EAAD,sBACC,EAAD,OACMrB,GADN,CAEE,UAAU,sBACV,UACA,OAAO,MACP,SAAUC"}