import{r as n,R as e,E as p,G as E,o as l}from"./antd.fa9dc31e.js";import{a as f,I as r,s as g}from"./index.49e89548.js";import{a as y}from"./dayjs.min.9037223f.js";import{a as o}from"./index.4cbe69e4.js";import{A as x,M as I,D}from"./operateBtns.097c5cc4.js";import"./request.6e8ef974.js";import"./styled-components.browser.esm.342f67f5.js";const T=()=>{const[m,d]=n.exports.useState([]),i=f(),c=t=>async()=>{let a=await o.dele(t);if(a.code)return l.error(a.msg);l.success(a.msg),s()},s=async()=>{let t=await o.getAll();if(t.code)return i(g("error",t.msg,"Error",4.5,null));d(t.data)};n.exports.useEffect(()=>{s()},[]);const u=[{title:e.createElement(r,{id:"table.operation"}),dataIndex:"sort",key:"operation",render:(t,a)=>e.createElement("div",{style:{display:"flex"}},e.createElement(I,{carry:{editData:a}}),e.createElement(D,{onConfirm:c(a._id)}))},{title:e.createElement(r,{id:"role.name"}),dataIndex:"name",key:"name"},{title:e.createElement(r,{id:"role.menuIds"}),align:"center",dataIndex:"menuIds",key:"menuIds",render:t=>t.length?t.length:e.createElement(r,{id:"role.all"})},{title:e.createElement(r,{id:"role.addTime"}),dataIndex:"addTime",key:"addTime",render:t=>y(t).format("YYYY-MM-DD HH:mm:ss")}];return e.createElement(p,{title:e.createElement(r,{id:"table.list",values:{menu:"Role"}})},e.createElement(x,null),e.createElement(E,{className:"gx-table-responsive",columns:u,dataSource:m,rowKey:"_id"}))};export{T as default};
//# sourceMappingURL=index.469f18b4.js.map
