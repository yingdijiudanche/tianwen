var C=Object.defineProperty,F=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var g=(r,a,e)=>a in r?C(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e,i=(r,a)=>{for(var e in a||(a={}))x.call(a,e)&&g(r,e,a[e]);if(E)for(var e of E(a))q.call(a,e)&&g(r,e,a[e]);return r},M=(r,a)=>F(r,I(a));import{F as p,r as b,R as t,E as B,m as S,I as o,at as k,B as N,o as u}from"./antd.fa9dc31e.js";import{i as R}from"./index.49e89548.js";import{m as d}from"./index.e517e542.js";import"./request.6e8ef974.js";const s=p.Item,j={labelCol:{span:4},wrapperCol:{span:12}},A={wrapperCol:{span:8,offset:4}},D=({location:r,history:a,intl:e})=>{const{editData:l}=r.state||{},c=l!==void 0,[f]=p.useForm(),[h,y]=b.exports.useState([]);b.exports.useEffect(()=>{(async()=>{let m=await d.options();if(m.code)return u.error(m.msg);y(m.data)})(),c&&f.setFieldsValue(l)},[]);const w=async n=>{n.hidden||(n.hidden=!1);let m=c?await d.edit(l._id,n):await d.add(n);if(m.code)return u.error(m.msg);u.success(m.msg),a.goBack()};return t.createElement(B,{className:"gx-card",title:e.formatMessage({id:"menu.form"},{control:c?"Edit":"Create"})},t.createElement(p,M(i({},j),{form:f,name:"menu",onFinish:w,autoComplete:"off"}),t.createElement(s,{label:e.formatMessage({id:"menu.pid"}),name:"pid"},t.createElement(S,{placeholder:e.formatMessage({id:"placeholder.selector"}),options:h})),t.createElement(s,{label:e.formatMessage({id:"menu.name"}),name:"name",rules:[{required:!0}]},t.createElement(o,null)),t.createElement(s,{label:e.formatMessage({id:"menu.path"}),name:"path",rules:[{required:!0}]},t.createElement(o,null)),t.createElement(s,{label:e.formatMessage({id:"menu.icon"}),name:"icon"},t.createElement(o,null)),t.createElement(s,{label:e.formatMessage({id:"menu.sort"}),name:"sort",rules:[{required:!0}]},t.createElement(o,{type:"number"})),t.createElement(s,{label:e.formatMessage({id:"menu.component"}),name:"component"},t.createElement(o,null)),t.createElement(s,{label:e.formatMessage({id:"menu.hidden"}),name:"hidden",valuePropName:"checked"},t.createElement(k,null)),t.createElement(s,i({},A),t.createElement(N,{type:"primary",htmlType:"submit"},e.formatMessage({id:"buttons.submit"})))))};var v=R(D);export{v as default};
//# sourceMappingURL=modify.49b02515.js.map
