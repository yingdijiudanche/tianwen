var j=Object.defineProperty,I=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var m=(t,e,a)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,l=(t,e)=>{for(var a in e||(e={}))w.call(e,a)&&m(t,a,e[a]);if(i)for(var a of i(e))F.call(e,a)&&m(t,a,e[a]);return t},u=(t,e)=>I(t,N(e));import{F as c,r as p,R as r,G as S,U as q,B,o as d}from"./antd.6184fff2.js";import{s as R}from"./styled-components.browser.esm.a560c53e.js";import{a as k}from"./index.7faa062c.js";import{r as f}from"./request.afec6a83.js";var g={getAll:()=>f.get("spare/all"),add:t=>f.post("spare",t)};const A=c.Item,G=R.div`
    flex:1;
    margin: 24px;
    &>div+div{
        margin-top:15px;
    }
`,L={labelCol:{span:4},wrapperCol:{span:12}},M={wrapperCol:{span:8,offset:1}},O=({location:t,history:e,intl:a})=>{const{permitId:b}=t.state,[x,v]=p.exports.useState([]),[n,y]=p.exports.useState();p.exports.useEffect(()=>{g.getAll().then(s=>{v(s.map(o=>({label:o.licenceNumber,value:`${o.licenceNumber},${o._id}`,disabled:o.spareUsed})))})},[]);const[E]=c.useForm(),C=s=>{y(s.target.value)},h=async()=>{let s=await g.add({permitId:b,licenceNumber:n.split(",")[0],vehicleId:n.split(",")[1]});if(s.code)return d.error(s.msg);d.success("Successfully"),e.goBack()};return r.createElement(S,{className:"gx-card",title:a.formatMessage({id:"booking.sqareCard"})},r.createElement(c,u(l({},L),{form:E,name:"spare",onFinish:h}),r.createElement(G,null,r.createElement(q.Group,{options:x,onChange:C,value:n})),r.createElement(A,l({},M),r.createElement(B,{type:"primary",htmlType:"submit"},a.formatMessage({id:"buttons.submit"})))))};var z=k(O);export{z as default};
//# sourceMappingURL=spare.474f069e.js.map
